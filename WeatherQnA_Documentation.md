
# üìÑ WeatherQ&A ‚Äî –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## 1. –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

**–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞:** WeatherQ&A (OpenAI + OpenWeather)  
**–¶–µ–ª—å:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–¥–∞—ë—Ç –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–º —è–∑—ã–∫–æ–º –≤–æ–ø—Ä–æ—Å –æ –ø–æ–≥–æ–¥–µ.  
–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —á–µ—Ä–µ–∑ OpenAI –∏–∑–≤–ª–µ–∫–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–≥–æ—Ä–æ–¥, –¥–∞—Ç–∞, –≤—Ä–µ–º—è —Å—É—Ç–æ–∫),  
–∑–∞—Ç–µ–º –ø–æ–ª—É—á–∞–µ—Ç –ø—Ä–æ–≥–Ω–æ–∑ –∏–∑ OpenWeather (5-day/3-hour forecast) –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ —É–¥–æ–±–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ.  

---

## 2. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –º–æ–¥—É–ª–∏

### A. –ö–æ–Ω—Ñ–∏–≥ –∏ –∫–ª—é—á–∏
- `load_keys()` ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ API-–∫–ª—é—á–µ–π –∏–∑ Colab Secrets (`OPENAI_API_KEY`, `OPENWEATHER_API_KEY`).
- –û—á–∏—Å—Ç–∫–∞ –ª–æ–≥–æ–≤ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ.

### B. OpenAI –ø–∞—Ä—Å–µ—Ä
- `parse_user_request(query)` ‚Äî –≤—ã–∑—ã–≤–∞–µ—Ç OpenAI –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ —Ç–µ–∫—Å—Ç–∞.
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON —Å –∫–ª—é—á–∞–º–∏: `city`, `date`, `time`, `part_of_day`.

### C. –í—Ä–µ–º—è –∏ –¥–∞—Ç—ã
- `map_part_of_day_to_slot(part_of_day)` ‚Äî –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç —Å–ª–æ–≤–∞ ¬´—É—Ç—Ä–æ/–¥–µ–Ω—å/–≤–µ—á–µ—Ä/–Ω–æ—á—å¬ª –≤ —Å–ª–æ—Ç—ã (09:00, 15:00, 18:00, 00:00).
- `round_to_3h_slot(time_str)` ‚Äî –æ–∫—Ä—É–≥–ª—è–µ—Ç –≤—Ä–µ–º—è –¥–æ –±–ª–∏–∂–∞–π—à–µ–≥–æ —Ç—Ä—ë—Ö—á–∞—Å–æ–≤–æ–≥–æ —Å–ª–æ—Ç–∞.
- `resolve_target_datetime(request_json)` ‚Äî –Ω–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç –¥–∞—Ç—É –∏ –≤—Ä–µ–º—è (—Å–µ–≥–æ–¥–Ω—è, –∑–∞–≤—Ç—Ä–∞, –ø–æ—Å–ª–µ–∑–∞–≤—Ç—Ä–∞, ISO-–¥–∞—Ç—ã).

### D. –ö–ª–∏–µ–Ω—Ç OpenWeather
- `get_weather_forecast(city, api_key)` ‚Äî –¥–µ–ª–∞–µ—Ç –∑–∞–ø—Ä–æ—Å –∫ OpenWeather API –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON —Å –ø—Ä–æ–≥–Ω–æ–∑–æ–º.

### E. –¢–∞–π–º–∑–æ–Ω–∞
- `convert_forecast_to_local_time(forecast_json)` ‚Äî –ø–µ—Ä–µ–≤–æ–¥–∏—Ç –≤—Ä–µ–º—è –ø—Ä–æ–≥–Ω–æ–∑–∞ –≤ –ª–æ–∫–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –≥–æ—Ä–æ–¥–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ `city.timezone`.

### F. –í—ã–±–æ—Ä —Å–ª–æ—Ç–∞
- `select_forecast_slot(slots, target_datetime)` ‚Äî –≤—ã–±–∏—Ä–∞–µ—Ç –±–ª–∏–∂–∞–π—à–∏–π –¥–æ—Å—Ç—É–ø–Ω—ã–π —Å–ª–æ—Ç –ø—Ä–æ–≥–Ω–æ–∑–∞.

### G. –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- `format_forecast(city, slot)` ‚Äî –∫—Ä–∞—Å–∏–≤–æ –≤—ã–≤–æ–¥–∏—Ç –¥–∞–Ω–Ω—ã–µ: —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞, –æ–ø–∏—Å–∞–Ω–∏–µ, –≤–ª–∞–∂–Ω–æ—Å—Ç—å, –¥–∞–≤–ª–µ–Ω–∏–µ, –≤–µ—Ç–µ—Ä.

### H. –ì–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è
- `answer_query(query)` ‚Äî –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –≤—Å–µ —à–∞–≥–∏ –≤ –æ–¥–∏–Ω –ø–∞–π–ø–ª–∞–π–Ω.

---

## 3. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

- –í—Å–µ —à–∞–≥–∏ —Ñ–∏–∫—Å–∏—Ä—É—é—Ç—Å—è –≤ `text_logs.txt`.  
- –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ `load_keys()` –ª–æ–≥ –æ—á–∏—â–∞–µ—Ç—Å—è.  
- –õ–æ–≥–∏—Ä—É—é—Ç—Å—è —Å–æ–±—ã—Ç–∏—è:
  - [INPUT] ‚Äî –≤—Ö–æ–¥–Ω–æ–π –∑–∞–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
  - [OK] ‚Äî —É—Å–ø–µ—à–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è (–ø–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ–≥–Ω–æ–∑–∞, –≤—ã–±–æ—Ä —Å–ª–æ—Ç–∞, —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ).
  - [ERROR] ‚Äî –æ—à–∏–±–∫–∏ (–≥–æ—Ä–æ–¥ –Ω–µ –Ω–∞–π–¥–µ–Ω, –ø—Ä–æ–≥–Ω–æ–∑ –≤–Ω–µ 5 –¥–Ω–µ–π –∏ —Ç.–¥.).

---

## 4. –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

–í–Ω–µ—à–Ω–∏–µ:
- `requests` ‚Äî –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å OpenWeather API.
- `openai` ‚Äî –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –º–æ–¥–µ–ª—å—é OpenAI.

–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ:
- `os`, `json`, `datetime`, `math`, `itertools`.

---

## 5. GitHub Workflow (Colab + SSH)

1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:
   ```bash
   !git clone git@github.com:USERNAME/weather_forecast_colab.git
   %cd weather_forecast_colab
   ```

2. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ:
   ```bash
   !git pull origin main
   ```

3. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:
   ```bash
   !git add .
   ```

4. –ö–æ–º–º–∏—Ç:
   ```bash
   !git commit -m "feat: –æ–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π"
   ```

5. –û—Ç–ø—Ä–∞–≤–∫–∞:
   ```bash
   !git push origin main
   ```

---

## 6. –¢–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ (Definition of Done)

- **–ú–æ—Å–∫–≤–∞ –ø–æ—Å–ª–µ–∑–∞–≤—Ç—Ä–∞ –≤–µ—á–µ—Ä–æ–º** ‚Üí –≤–µ—Ä–Ω—ã–π —Å–ª–æ—Ç, –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –µ–¥–∏–Ω–∏—Ü—ã.
- **–ü–∏—Ç–µ—Ä –∑–∞–≤—Ç—Ä–∞ —É—Ç—Ä–æ–º** ‚Üí —Å–ª–æ—Ç 09:00.
- **–ö–∞–∑–∞–Ω—å 25 —á–∏—Å–ª–∞ –∫ 15:00** ‚Üí —Å–ª–æ—Ç 15:00.
- **–†–∏–æ-–¥–µ-–ñ–∞–Ω–µ–π—Ä–æ —á–µ—Ä–µ–∑ 6 –¥–Ω–µ–π** ‚Üí –æ—à–∏–±–∫–∞ ¬´–ü—Ä–æ–≥–Ω–æ–∑ –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –Ω–∞ 5 –¥–Ω–µ–π¬ª.
- **–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –≥–æ—Ä–æ–¥** ‚Üí –æ—à–∏–±–∫–∞ ¬´–ì–æ—Ä–æ–¥ –Ω–µ –Ω–∞–π–¥–µ–Ω¬ª.
- **–°–µ–≥–æ–¥–Ω—è –Ω–æ—á—å—é –ø—Ä–∏ –≤—Ä–µ–º–µ–Ω–∏ 23:30** ‚Üí —Å–ª–æ—Ç 00:00 —Å–ª–µ–¥—É—é—â–µ–≥–æ –¥–Ω—è.

---

## 7. –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

–ü—Ä–∏–º–µ—Ä:
```
–ì–æ—Ä–æ–¥: –ú–æ—Å–∫–≤–∞
–ü—Ä–æ–≥–Ω–æ–∑ –Ω–∞ 2024-08-23 18:00:00
–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞: 22.7 ¬∞C, –ø–∞—Å–º—É—Ä–Ω–æ
–í–ª–∞–∂–Ω–æ—Å—Ç—å: 66 %
–î–∞–≤–ª–µ–Ω–∏–µ: 762 –º–º —Ä—Ç. —Å—Ç.
–í–µ—Ç–µ—Ä: 4.1 –º/—Å (–ø–æ—Ä—ã–≤—ã –¥–æ 6.0 –º/—Å)
```

---

## 8. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

- `notebooks/WeatherQnA.ipynb` ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –Ω–æ—É—Ç–±—É–∫ –ø—Ä–æ–µ–∫—Ç–∞.
- `.gitignore` ‚Äî –∏—Å–∫–ª—é—á–∞–µ—Ç `.env`, `venv`, `__pycache__`, `.ipynb_checkpoints`, `text_logs.txt`.
- `README.md` ‚Äî –∫—Ä–∞—Ç–∫–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É.
- `text_logs.txt` ‚Äî –ª–æ–≥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (–∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è git).

---

## 9. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

- –ü—Ä–æ–≥–Ω–æ–∑ –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –Ω–∞ 5 –¥–Ω–µ–π –≤–ø–µ—Ä—ë–¥ (40 —Å–ª–æ—Ç–æ–≤).
- OpenAI –º–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π JSON ‚Äî –≤ –∫–æ–¥–µ –µ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫.
- –ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è —É—á–µ–±–Ω—ã—Ö —Ü–µ–ª–µ–π –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ Google Colab.
